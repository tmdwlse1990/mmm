# This file is a part of rAthena.
#   Copyright(C) 2022 rAthena Development Team
#   https://rathena.org - https://github.com/rathena
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program. If not, see <http://www.gnu.org/licenses/>.
#
###########################################################################
# Status Change Database
###########################################################################
#
# Status Change Settings
#
###########################################################################
# - Status                    Status change name.
#   Icon                      Status change icon. (Default: EFST_BLANK)
#   DurationLookup            Default status change duration. (Default: 0)
#   States:                   Status change state to determine player states. (Default: None)
#   CalcFlags:                Status change calculation to indicate which stat is adjusted. (Default: None)
#   Opt1                      Special effect when a status change is active. Non-stackable. (Default: None)
#   Opt2:                     Special options/client effects when a status change is active. (Default: None)
#   Opt3:                     Special options/client effects when a status change is active. (Default: Normal)
#   Options:                  Special options/client effects when a status change is active. (Default: Nothing)
#   Flags:                    Special flags which trigger during certain events.  (Default: None)
#   MinRate                   Minimum rate after status change reduction (10000 = 100%). (Default: 0)
#   MinDuration               Minimum duration in milliseconds after status change reduction. (Default: 1)
#   Fail:                     List of Status Changes that causes the status to fail to activate. (Optional)
#   EndOnStart:               List of Status Changes that will end when the status activates. (Optional)
#   EndReturn:                List of Status Changes that will end when the status activates and won't give its effect. (Optional)
#   EndOnEnd:                 List of Status Changes that will end when the status becomes inactive. (Optional)
#   Script:                   Script to execute, when starting the status change. (Optional)
###########################################################################

Header:
  Type: STATUS_DB
  Version: 4

Body:
  - Status: Adrenaline
    CalcFlags:
      Cri: true
  - Status: Readystorm
    EndOnStart:
      Readyturn: true
      Readydown: true
      Readycounter: true
  - Status: Readydown
    EndOnStart:
      Readyturn: true
      Readycounter: true
      Readystorm: true
  - Status: Readyturn
    EndOnStart:
      Readycounter: true
      Readydown: true
      Readystorm: true
  - Status: Readycounter
    EndOnStart:
      Readyturn: true
      Readydown: true
      Readystorm: true
  - Status: Cp_Weapon
    CalcFlags:
      Watk: true
      Matk: true
  - Status: Cp_Armor
    CalcFlags:
      Def: true
      Mdef: true
  - Status: Cp_Helm
    CalcFlags:
      Def: true
      Mdef: true
  - Status: C_Buff_3
    Icon: EFST_C_BUFF_3
    Flags:
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
    Script: |
      .@val1 = getstatus(SC_C_BUFF_3, 1);
      bonus bMaxHPrate, .@val1;
      bonus bMaxSPrate, .@val1;
  - Status: C_Buff_4
    Icon: EFST_C_BUFF_4
    Flags:
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
    Script: |
      .@val1 = getstatus(SC_C_BUFF_4, 1);
      bonus bFlee, .@val1;
      bonus bHit, .@val1;
  - Status: C_Buff_5
    Icon: EFST_C_BUFF_5
    Flags:
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
    Script: |
      bonus bCritical, getstatus(SC_C_BUFF_5, 1);
      bonus bAspd, getstatus(SC_C_BUFF_5, 2);
  - Status: C_Buff_6
    Icon: EFST_C_BUFF_6
    Flags:
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
    Script: |
      .@val1 = getstatus(SC_C_BUFF_6, 1);
      bonus bAtkRate, .@val1;
      bonus bMatkRate, .@val1;
    # Recast refreshs the status.
    # Removed by NPC_LIGHTNING_JUDGEMENT even when the skill miss.
  - Status: FROST_STORM
    Icon: EFST_FROST_STORM
    DurationLookup: NPC_FROST_FIELD
    Flags:
      BlEffect: true
      DisplayPc: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
    # Prerequisite for NPC_AIMED_SHOWER, NPC_BLAZING_ERUPTION and BLOCK_SEAL to deal damage.
    # Removed even when the skills miss.
  - Status: TARGET_MARKER
    Icon: EFST_TARGET_MARKER
    DurationLookup: NPC_TARGET_MARKER
    Flags:
      BlEffect: true
      DisplayPc: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
    # Debuff.
  - Status: BLOCK_SEAL
    Icon: EFST_BLOCK_SEAL
    DurationLookup: NPC_BLOCK_SEAL
    States:
      NoMove: true
      NoCast: true
      NoAttack: true
      NoInteract: true
    Flags:
      BlEffect: true
      DisplayPc: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      BossResist: true
      StopAttacking: true
      StopCasting: true
    Fail:
      Block_seal: true
      Warm_shield: true
    # Block BLOCK_SEAL.
  - Status: WARM_SHIELD
    Icon: EFST_WARM_SHIELD
    Flags:
      BlEffect: true
      DisplayPc: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
    # An effect that look like a "Stun".
  - Status: Groggy
    Icon: EFST_GROGGY
    DurationLookup: NPC_GROGGY_ON
    States:
      NoMove: true
      NoCast: true
      NoAttack: true
      NoInteract: true
    Flags:
      BlEffect: true
#      DisplayMob: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      BossResist: true
      StopAttacking: true
      StopCasting: true
    Fail:
      Refresh: true
      Stun: true
    # Display the given EF_* on val1.
  - Status: SHOW_EFFECT1
    Icon: EFST_SHOW_EFFECT1
    Flags:
      BlEffect: true
#      DisplayMob: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
    # Like SHOW_EFFECT1.
  - Status: SHOW_EFFECT2
    Icon: EFST_SHOW_EFFECT2
    Flags:
      BlEffect: true
#      DisplayMob: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: AutoAttack
    Icon: EFST_AUTOATTACK
    Flags:
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      NoSave: true
  - Status: PREMIUMSERVICE
    Icon: EFST_PREMIUMSERVICE
    Flags:
      NoRemoveOnDead: true
      NoClearbuff: true
      NoSave: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      NoForcedEnd: true
  - Status: Member1
    Icon: EFST_MEMBER1
    CalcFlags:
      All: true
    Flags:
      NoRemoveOnDead: true
      NoSave: true
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: Member2
    Icon: EFST_MEMBER2
    CalcFlags:
      All: true
    Flags:
      NoRemoveOnDead: true
      NoSave: true
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: Member3
    Icon: EFST_MEMBER3
    CalcFlags:
      All: true
    Flags:
      NoRemoveOnDead: true
      NoSave: true
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: Member4
    Icon: EFST_MEMBER4
    CalcFlags:
      All: true
    Flags:
      NoRemoveOnDead: true
      NoSave: true
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: Member5
    Icon: EFST_MEMBER5
    CalcFlags:
      All: true
    Flags:
      NoRemoveOnDead: true
      NoSave: true
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: Member6
    Icon: EFST_MEMBER6
    CalcFlags:
      All: true
    Flags:
      NoRemoveOnDead: true
      NoSave: true
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: Member7
    Icon: EFST_MEMBER7
    CalcFlags:
      All: true
    Flags:
      NoRemoveOnDead: true
      NoSave: true
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: Member8
    Icon: EFST_MEMBER8
    CalcFlags:
      All: true
    Flags:
      NoRemoveOnDead: true
      NoSave: true
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: Member9
    Icon: EFST_MEMBER9
    CalcFlags:
      All: true
    Flags:
      NoRemoveOnDead: true
      NoSave: true
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: Member10
    Icon: EFST_MEMBER10
    CalcFlags:
      All: true
    Flags:
      NoRemoveOnDead: true
      NoSave: true
      NoClearbuff: true
      NoDispell: true
      NoBanishingBuster: true
      NoClearance: true
      SendVal1: true
  - Status: Lockon_Laser
    Icon: EFST_LOCKON_LASER
    DurationLookup: NPC_LOCKON_LASER
    Flags:
      BlEffect: true
      DisplayPc: true
      NoBanishingBuster: true
      NoDispell: true
      NoClearance: true
      RemoveOnMapWarp: true
      NoClearbuff: true