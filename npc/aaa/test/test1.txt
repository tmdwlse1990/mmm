//-------------- รับไอเทม ทุก 10 นาที------------
icecastle,202,207,4	script	ไก่ให้ทาน	800,{
	if(delay == 0) {  // ตรวจสอบว่า delay ยังไม่ได้ถูกกำหนด
		delay = gettimetick(2);  // กำหนดเวลาปัจจุบันเมื่อเริ่มใช้งานครั้งแรก
	}else	if(delay > gettimetick(2)){
	mes "ยังไม่ถึงเวลา อีก " + (delay - gettimetick(2)) + " วิ ค่อยมาใหม่";
		end;
	}
	mes "อ่ะ มารับของไป";
	getitem 5394,1;
	delay = gettimetick(2) + 600;
	end;
}

//--------------------จบเควส LV ถึงรับของ ---------------



//-------------- เควส LV ถึงรับของครั้งเดียว------------
icecastle,197,208,4	script	เช็คเวลรับของ	800,{
	if(getitemforlv == 1) { mes "เจ้าเอาไปแล้วนี่!อย่ามากวนข้า!!";
	end;
	} 
	
	else mes "ไม่คุ้นหน้าเจ้าเลย....";
	next;
	mes "เจ้าหนะ เวลถึง 75 ป่าว?";
	next;
	mes "ข้ามีของจะให้เจ้าด้วยยยย";
	next;
	menu "แน่นอน ข้าเวลถึงแล้ววว!!",Lok,"ไม่อ่ะ ข้ายังกากอยู่",Lno;
		Lok:
		if(baselevel>74){
		mes "งั้นรับไปซะ!!";
		next;
		getitem 2741,1;
		set getitemforlv,1;
		close;
		} else mes "ยังไม่ถึงนี่ อย่ามาซีเล็ง เดี๋ยวซู้หลิ่งนะเว้ยยยย";
		end;
		
		Lno:
		mes "ไว้กลับมาใหม่ละกัน";
		close;
	end;
}

//--------------------จบเควส LV ถึงรับของ ---------------

//-------------- เควส LV ถึง จะแลกของได้------------

icecastle,206,214,4	script	เช็คเวลเปิดแลกของ	800,{
	if(baselevel>59){
	mes "เจ้าเติบโตขึ้นแล้วนี่นา!!";
	next;
	mes "อยากพัฒนาตัวเองขึ้นไปอีกไหมหละ???";
	next;
	mes "แต่ข้าไม่ได้ให้ฟรีๆนะ ไปหาของมาให้ข้าสิ ข้าจะพัฒนาของให้เจ้าเอง";
	next;
	mes "สิ่งที่ต้องใช้ก็แค่มีดโง่ๆ 1 เล่ม และ Jellopy 1 ก้อน!!";
	menu "ข้าเตรียมมันมาให้เจ้าแล้ว!!",Lok,"ไม่อ่ะ ของหายากขนาดนี้จะหายังไง!!!",Lno;
		Lok:
		if(countitem(1201)>0 && countitem(909)>0){
			mes "ไหนดูซิ........";
			next;
			mes "สมแล้วที่ข้าเชื่อในตัวเจ้า เอาไปเล้ย!!";
			delitem 1201,1;
			delitem 909,1;
			getitem 1228,1;
		} else mes "เจ้าไม่มีของนี่หว่า อย่ามามั่ว!!";
		end;
		
		Lno:
		mes "'โด่ว ของแค่นี้ยังหาไม่ได้ ไม่ไหววววว";
		close;
	} else mes "มองหน้าข้าทำไม ไอ้หนู";
	end;
}

//--------------------จบเควส LV ถึงรับของ ---------------


//-------------------- เควสส่ง item รับรางวัล -------------

icecastle,206,211,4	script	ทดสอบส่งitemได้รางวัล	800,{
	mes "ข้าอยากได้ลูกธนูตรงเข่าเจ้า!!";
	next;
	if(countitem(1750))>0{
			mes "ขอบใจเจ้ามากเลยนะ อ่ะนี่รางวัล";
			delitem 1750,1;
			getitem 12208,1;
			close;
			}
		else {mes "เร็ว!! กระชากมันออกมา!!";}
	end;
}

//------------------- จบเควสส่ง item รับรางวัล -----------

//------------------ เควสเบ๊ส่งของ สุ่ม npc -------------
// ==ตัวเปิดเควส==
icecastle,202,214,4	script	ทดสอบส่งของ	800,{
	mes "ไปเอาของมาให้ข้า!!";
	Set .@rightnum,rand(1,3);
	next;
	if(delivery == 1){
		mes "ไหนหละของ เอามาดูซิ";
		if(countitem(677))>0{
			mes "ขอบใจเจ้ามากเลยนะ อ่ะนี่รางวัล";
			delitem 677,1;
			getitem 569,1;
			set delivery,0;
			close;
			}
		else {mes "เร็วซี่ ข้ารออยู่!!";}
	}else if(.@rightnum == 1) {
		mes "ไปเอามาจาก ไก่A นะ";
		set getA,1;
		set getB,0;
		set getC,0;
		set delivery,1;
		close;
	}else if(.@rightnum == 2) {
		mes "ไปเอามาจาก ไก่B นะ";
		set getA,0;
		set getB,1;
		set getC,0;
		set delivery,1;
		close;
	}else if(.@rightnum == 3) {
		mes "ไปเอามาจาก ไก่C นะ";
		set getA,0;
		set getB,0;
		set getC,1;
		set delivery,1;
		close;
	}
	close;
}

//===NPC1===
icecastle,201,211,4	script	ไก่A	800,{
	mes "สวัสดี มีอะไรให้ช่วยหละ";
	if(getA==1){
	mes "มาเอาของที่สั่งหรอ";
	mes "รับไปสิ";
	getitem 677,1;
	Set getA,0;
	}
	mes "ถ้าไม่มีก็ไป๊ เกะกะ";
	end;
}

//===NPC2===
icecastle,202,211,4	script	ไก่B	800,{
	mes "สวัสดี มีอะไรให้ช่วยหละ";
	if(getB==1){
	mes "มาเอาของที่สั่งหรอ";
	mes "รับไปสิ";
	getitem 677,1;
	Set getB,0;
	}
	mes "ถ้าไม่มีก็ไป๊ เกะกะ";
	end;
}

//===NPC3===
icecastle,203,211,4	script	ไก่C	800,{
	mes "สวัสดี มีอะไรให้ช่วยหละ";
	if(getC==1){
	mes "มาเอาของที่สั่งหรอ";
	mes "รับไปสิ";
	getitem 677,1;
	Set getC,0;
	}
	mes "ถ้าไม่มีก็ไป๊ เกะกะ";
	end;
}

//-------------------- จบเควสเบ๊ส่งของ -------------------------

//--------------------- พนัน item rate 30% -----------------

icecastle,202,217,4	script	ให้คุกกี้ทำนายกัน	800,{
	mes "เฮ้ย เอ็งอ่ะ....";
	next;
	mes "ชอบเล่นพนันป่าว....";
	next;
	mes "ใช้ Red Potion แค่ 100 ขวดเอ๊งงงง!!";
	next;
	mes "แต่ข้าดูหน้าเจ้าแล้ว น่าจะไม่ค่อยมีกะตังนะ 555";
	next;
	menu "ก็มาสิวะ!!",Lok,"เออ กุจน!!",Lno;
	
		Lok:
		if(countitem(501)>100){
		delitem 501,100;
		Set .@rightnum,rand(0,100);
		mes "เอ้า ดู!!";
		next;
		mes "กะล๊อก ก๊อกแก๊ก กลุ๊กๆ.....";
		next;
		if(.@rightnum>70){
		mes "ดีใจด้วย!! เจ้าชนะรางวัลนี้!!!";
		next;
		mes "รับไปสิ นี่รางวัลเจ้า!!";
		getitem 501,200;
		end;
		}else mes "ว้าาา โอกาสหน้าเอาใหม่นะ!! ไอ้น้องงง";
		end;
		}else mes "ไม่มีตังก็อย่ามาทำเป็นรวย ไป๊!!";
		end;
		
		Lno:
		mes "โถ เหม็นคนจนหวะ";
		end;
}

//----------------- จบ พนัน item 30% ----------------------

//--------------------- พนัน item rate 30% 3 รอบ -----------------

icecastle,206,217,4	script	ให้คุกคุกคุกทำนายกัน	800,{
	mes "เฮ้ย เอ็งอ่ะ....";
	next;
	mes "ชอบเล่นพนันป่าว....";
	next;
	mes "ใช้ Red Potion แค่ 100 ขวดเอ๊งงงง!!";
	next;
	mes "แต่ข้าดูหน้าเจ้าแล้ว น่าจะไม่ค่อยมีกะตังนะ 555";
	next;
	menu "ก็มาสิวะ!!",Lok,"เออ กุจน!!",Lno;
	
		Lok:
		if(countitem(501)>=100){
		delitem 501,100;
		Set .@rightnum,rand(0,100);
		mes "เอ้า ดู!!";
		next;
		mes "กะล๊อก ก๊อกแก๊ก กลุ๊กๆ.....";
		next;
			if(.@rightnum>70){
			specialeffect EF_STEALCOIN,AREA,"ให้คุกคุกคุกทำนายกัน";
			specialeffect EF_RG_COIN,AREA,"ให้คุกคุกคุกทำนายกัน";
			mes "ดีใจด้วย!! เจ้าชนะรอบนี้!!!";
			mes "รางวัลคือ Red Potion 200 ขวด!!";
			next;
			mes "เอาอีกรอบป่าว? รอบนี้รางวัลดีขึ้นนะ!!";
			menu "ก็มาสิวะ!!",Loktwo,"พอละะ เอามานี่!!!!",Lnotwo;
			
				Loktwo:
				Set .@rightnum,rand(0,100);
				mes "เอาละนะ!! ดูววว!!";
				next;
				mes "กะล๊อก ก๊อกแก๊ก กลุ๊กๆ.....";
				next;
							if(.@rightnum>70){
							specialeffect EF_STEALCOIN,AREA,"ให้คุกคุกคุกทำนายกัน";
							specialeffect EF_RG_COIN,AREA,"ให้คุกคุกคุกทำนายกัน";
							mes "ดีใจด้วย!! เจ้าชนะอีกแล้ววว!!!";
							mes "รางวัลคือ Red Potion 400 ขวด!!";
							next;
							mes "เอาอีกรอบป่าว? รอบนี้ของโครตดีย์!!";
							menu "ก็มาสิวะ!!",Lokthree,"พอละะ กุมีดวงแค่นี้!!!!",Lnothree;
							
								Lokthree:
								Set .@rightnum,rand(0,100);
								mes "เอาละนะ!! ดูววว!!";
								next;
								mes "กะล๊อก ก๊อกแก๊ก กลุ๊กๆ.....";
								next;
								if(.@rightnum>70){
									specialeffect EF_STEALCOIN,AREA,"ให้คุกคุกคุกทำนายกัน";
									specialeffect EF_RG_COIN,AREA,"ให้คุกคุกคุกทำนายกัน";
									specialeffect EF_POK_JAP,AREA,"ให้คุกคุกคุกทำนายกัน";
									mes "ดีใจด้วย!! เจ้ามันดวงดีจริงๆ เอารางวัลใหญ่ไปเล้ย!!!";
									getitem 5160,1;
									close;
									}else 
									specialeffect EF_SUI_EXPLOSION,AREA,"ให้คุกคุกคุกทำนายกัน";
									mes "ว้าาา อีกนิดเดียวเอง!! ไอ้น้องงง";
									end;
								
								Lnothree:
								mes "เคๆ ไว้คราวหน้ามาใหม่นะ อ่ะรางวัลของเอ็ง";
								getitem 501,400;
								end;
								
							}else 
								specialeffect EF_SUI_EXPLOSION,AREA,"ให้คุกคุกคุกทำนายกัน";
								mes "ว้าาา เอ็งมันไม่มีดวงจริงๆหวะ!! ไอ้น้องงง";
							end;
							
				Lnotwo:
				mes "เค เค เอาของละไปไกลๆ ชิ่ว!!";
				getitem 501,200;
				
			}else 
			specialeffect EF_SUI_EXPLOSION,AREA,"ให้คุกคุกคุกทำนายกัน";	//เพิ่มeffectระเบิด
			mes "ว้าาา โอกาสหน้าเอาใหม่นะ!! ไอ้น้องงง";
		end;
		}else mes "ไม่มีตังก็อย่ามาทำเป็นรวย ไป๊!!";
		end;
		
		Lno:
		mes "โถ เหม็นคนจนหวะ";
		end;
}

//----------------- จบ พนัน item 30% 3ครั้ง----------------------

//----------------- npc check ของ +แลกของ --------------------

icecastle,192,206,4	script	npcขโมยหมวก	800,{
If(countitem(5013)>0) goto collect;
Mes "อยากได้หมวกเท่ๆหวะ";
Close;
Collect:
Mes "เอามานี่!! แล้วเอานี่ไปแทน!!";
	delitem 5013,1;
	getitem 2298,1;
Close;
}

//--------------------------จบcheck+แลกของ ----------------------------

icecastle,214,222,4	script	ทดสอบสุ่มเลขลุ้นหวย	800,{
	Mes "Pick a number between 0 and 9.";
	Set rightnum,rand(10);
	Input guess;
	If(guess==rightnum) goto winner;
	Mes "You are wrong, go away now.";
	Close;
	Winner:
	Mes "Wow, you must be psychic! Here's 10 zeny!";
	Set Zeny, Zeny+10;
	Close;
	end;
}

icecastle,215,222,4	script	ทดสอบสุ่มเลข	800,{
set .@random, rand(1,2);
if (.@random == 1) { mes "I like you! :D"; }
else { mes "I don't like you.  Get out of here!"; }
close;
	end;
}

icecastle,216,222,4	script	ทดA	800,{
    set .@random, rand(1,3);
    if (.@random == 1) {
        mes "A";} 
		else if (.@random == 2) {
        mes "B";} 
		else { mes "C";
    }
    close;
    end;
}

icecastle,217,222,4	script	ทดสอบGPT	800,{
  set .@r, rand(1,9);

    if (.@r == 1) {
        mes "คุณได้หมายเลข 1! นี่คือข้อความสำหรับ 1 ";
    } else if (.@r == 2) {
        mes "หมายเลข 2 มาแล้ว! โชคดีจัง ";
    } else if (.@r == 3) {
        mes "หมายเลข 3! เยี่ยมมาก ";
    } else if (.@r == 4) {
        mes "หมายเลข 4! เจ๋งไปเลย ";
    } else if (.@r == 5) {
        mes "หมายเลข 5! สุดยอด ";
    } else if (.@r == 6) {
        mes "หมายเลข 6! ดีมากครับ ";
    } else if (.@r == 7) {
        mes "หมายเลข 7! โชคดีสุด ๆ ";
    } else if (.@r == 8) {
        mes "หมายเลข 8! เยี่ยมไปเลย ";
    } else {
        // กรณี .@r == 9
        mes "หมายเลข 9! ยอดเยี่ยมที่สุด ";
    }

    close;
}